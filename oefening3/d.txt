//a[*[n > 3]]/n | //*[(ancestor::b[n=4])]/n

<r>
    <a>
        <n>1</n>
        <c>
            <n>4</n>
        </c>
    </a>
    <b>
        <n>4</n>
        <a>
            <n>2</n>
        </a>
        <d>
            <n>3</n>
        </d>
    </b>
    <a>
        <n>6</n>
    </a>
</r>